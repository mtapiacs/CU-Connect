<%- include("../includes/head.ejs") %>

</head>

<body>
    <%- include("../includes/navigation.ejs") %>

    <%- include("../includes/inner-scroll-start.ejs") %>

    <main class="main-container">
        <h1 class="main-header">Event Approval</h1>
        <div class="mt-3">
        <% if (events.length > 0) { %>
            <% for (let event of events) { %>
                <div class="card my-3 request-event-item">
                    <h5 class="card-header"><%= event.eventName %></h5>
                    <div class="card-body">
                        <h5 class="card-title"><%= event.eventDate %></h5>
                        <p class="card-text"><%= event.eventDesc %></p>
                        <p><%= event.eventTime %></p>
                        <div class="d-flex justify-content-around mt-4">
                            <input type="hidden" name="reqEventId" value="<%= event._id %>" >
                            <input type="hidden" name="_csrf" value="<%= csrfToken %>" />
                            <button class="btn btn-core" onclick="processRequest(this, 'APPROVED');" type="button">
                                Approve Event
                            </button>
                            <button class="btn btn-core" onclick="processRequest(this, 'REJECTED');" type="button">
                                Reject Event
                            </button>
                        </div>
                    </div>
                </div>
            <% } %>
        <% } else { %>
            <h4 class="text-center mt-5">No pending event approvals</h4>
        <% } %>
        </div>
    </main>

    <%- include("../includes/inner-scroll-end.ejs") %>

    <script src="/js/admin.js"></script>

<%- include("../includes/end.ejs") %>